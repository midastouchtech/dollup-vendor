{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aya/dev/projects/dollup/components/layouts/ContainerDashboard.jsx\";\nimport React from 'react';\nimport Head from 'next/head';\nimport { useState } from 'react';\nimport FooterCopyright from '~/components/shared/footers/FooterCopyright';\nimport MenuSidebar from '~/components/shared/menus/MenuSidebar';\nimport WidgetEarningSidebar from '~/components/shared/widgets/WidgetEarningSidebar';\nimport WidgetUserWelcome from '~/components/shared/widgets/WidgetUserWelcome';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { useRouter } from \"next/router\";\nimport { useDispatch } from \"react-redux\";\nimport cookies from \"js-cookie\";\nimport { saveVendor } from '~/store/app/action';\nimport { isEmpty } from 'ramda';\n\nconst ContainerDashboard = ({\n  children,\n  title,\n  socket\n}) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const {\n    0: vendor,\n    1: setVendor\n  } = useState({});\n  const {\n    vendorId\n  } = router.query;\n  const cookieVendor = cookies.get(\"dollup_logged_in_vendor\");\n  console.log(\"cookier vendor\", cookieVendor); //console.log(\"parsed cookievendr\", JSON.parse(cookieVendor))\n\n  let titleView;\n\n  if (title !== undefined) {\n    titleView = process.env.title + ' | ' + title;\n  } else {\n    titleView = process.env.title + ' | ' + process.env.titleDescription;\n  }\n\n  if (socket && isEmpty(vendor)) {\n    console.log(\"has socket and empty vendr\");\n\n    if (!vendorId && cookieVendor) {\n      setVendor(JSON.parse(cookieVendor));\n      dispatch(saveVendor(JSON.parse(cookieVendor)));\n    } else {\n      socket.emit(\"GET_VENDOR\", {\n        id: vendorId\n      });\n      socket.on(\"RECEIVE_VENDOR\", data => {\n        setVendor(data);\n        dispatch(saveVendor(data));\n        cookies.set(\"dollup_logged_in_vendor\", JSON.stringify(data), {\n          expires: 1\n        });\n        socket.off(\"RECEIVE_VENDOR\");\n      });\n    }\n  }\n\n  console.log(socket);\n  console.log(\"Container vendor\", vendor);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"martfury-admin\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: titleView\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"ps-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-main__sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-sidebar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ps-sidebar__top\",\n            children: [/*#__PURE__*/_jsxDEV(WidgetUserWelcome, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(WidgetEarningSidebar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ps-sidebar__content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ps-sidebar__center\",\n              children: /*#__PURE__*/_jsxDEV(MenuSidebar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ps-sidebar__footer\",\n            children: /*#__PURE__*/_jsxDEV(FooterCopyright, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-main__wrapper\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\nexport default ContainerDashboard;","map":{"version":3,"sources":["/home/aya/dev/projects/dollup/components/layouts/ContainerDashboard.jsx"],"names":["React","Head","useState","FooterCopyright","MenuSidebar","WidgetEarningSidebar","WidgetUserWelcome","HeaderDashboard","useRouter","useDispatch","cookies","saveVendor","isEmpty","ContainerDashboard","children","title","socket","router","dispatch","vendor","setVendor","vendorId","query","cookieVendor","get","console","log","titleView","undefined","process","env","titleDescription","JSON","parse","emit","id","on","data","set","stringify","expires","off"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport { useState } from 'react';\nimport FooterCopyright from '~/components/shared/footers/FooterCopyright';\nimport MenuSidebar from '~/components/shared/menus/MenuSidebar';\nimport WidgetEarningSidebar from '~/components/shared/widgets/WidgetEarningSidebar';\nimport WidgetUserWelcome from '~/components/shared/widgets/WidgetUserWelcome';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { useRouter } from \"next/router\";\nimport { useDispatch } from \"react-redux\";\nimport cookies from \"js-cookie\";\nimport { saveVendor } from '~/store/app/action';\nimport { isEmpty } from 'ramda'\n\nconst ContainerDashboard = ({ children, title, socket }) => {\n    const router = useRouter();\n    const dispatch = useDispatch();\n    const [vendor, setVendor] = useState({})\n    \n    const { vendorId } = router.query;\n    const cookieVendor = cookies.get(\"dollup_logged_in_vendor\");\n    console.log(\"cookier vendor\", cookieVendor)\n    //console.log(\"parsed cookievendr\", JSON.parse(cookieVendor))\n    let titleView;\n    if (title !== undefined) {\n        titleView = process.env.title + ' | ' + title;\n    } else {\n        titleView = process.env.title + ' | ' + process.env.titleDescription;\n    }\n    if(socket && isEmpty(vendor)){\n        console.log(\"has socket and empty vendr\")\n        if(!vendorId && cookieVendor){\n            setVendor(JSON.parse(cookieVendor))\n            dispatch(saveVendor(JSON.parse(cookieVendor)));\n        }\n        else{\n            socket.emit(\"GET_VENDOR\", { id: vendorId })\n            socket.on(\"RECEIVE_VENDOR\", (data)=>{            \n                setVendor(data)\n                dispatch(saveVendor(data));\n                cookies.set(\"dollup_logged_in_vendor\", JSON.stringify(data), { expires: 1 });\n                socket.off(\"RECEIVE_VENDOR\")\n            })\n            \n        }\n    }\n    console.log(socket)\n    console.log(\"Container vendor\", vendor)\n\n    return (\n        <div className=\"martfury-admin\">\n            <Head>\n                <title>{titleView}</title>\n            </Head>\n            <main className=\"ps-main\">\n                <div className=\"ps-main__sidebar\">\n                    <div className=\"ps-sidebar\">\n                        <div className=\"ps-sidebar__top\">\n                            <WidgetUserWelcome />\n                            <WidgetEarningSidebar />\n                        </div>\n                        <div className=\"ps-sidebar__content\">\n                            <div className=\"ps-sidebar__center\">\n                                <MenuSidebar />\n                            </div>\n                        </div>\n                        <div className=\"ps-sidebar__footer\">\n                            <FooterCopyright />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"ps-main__wrapper\">\n                    {children}\n                </div>\n            </main>\n        </div>\n    );\n};\n\nexport default ContainerDashboard;\n"]},"metadata":{},"sourceType":"module"}